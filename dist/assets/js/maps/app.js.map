{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["'use strict';\n\n$(document).ready(function() {\n\n    var options = {\n        target: '#js-output', // target element(s) to be updated with server response\n        beforeSubmit: beforeSubmit, // pre-submit callback\n        success: afterSuccess, // post-submit callback\n        uploadProgress: OnProgress, //upload progress callback\n        resetForm: true // reset the form after successful submit\n    };\n\n    $('#js-upload-form').submit(function() {\n        $(this).ajaxSubmit(options);\n        // always return false to prevent standard browser submit and page navigation\n        return false;\n    });\n\n    // When the user selects the file to be uploaded, update elements to upload state\n    $('input:file').change(function() {\n        var fileName = $(this).val();\n        $('#js-filename').html(fileName); // get the filename for the placeholder\n        $('.custom-file-upload').hide(); // hide upload button\n        $('#js-title').text('Now go ahead and submit it!');\n        $('#js-submit').show(); // add submit after a person chooses a file\n        $('#js-progressbox').show(); // show progress\n    });\n\n    //function after succesful file upload (when server response)\n    function afterSuccess() {\n\n        $('#js-output').show(); // show notification of success/failure button\n        // $('#js-submit').show(); // show submit button\n        $('#js-progressbox').delay(1000).fadeOut(); //hide progress bar\n        $('#js-output').delay(3500).fadeOut(); // hide notification after 3.5 seconds\n\n        $('.custom-file-upload').show(); // show upload button so a person can choose a file\n        $('#js-submit').hide(); // hide submit until after a person chooses a file\n        $('#js-title').text('Choose a file to upload'); // reset placeholder text\n        $('#js-filename').html('<span class=\"no-file-selected\">No File Selected</span>'); // reset placeholder text\n\n    }\n\n    //function to check file size before uploading.\n    function beforeSubmit() {\n        //check whether browser fully supports all File API\n        if (window.File && window.FileReader && window.FileList && window.Blob) {\n\n            if (!$('#js-file').val()) //check empty input filed\n            {\n                ErrorReset('You didn\\'t upload anything.');\n                return false;\n            }\n\n            var fsize = $('#js-file')[0].files[0].size; //get file size\n            var ftype = $('#js-file')[0].files[0].type; // get file type\n\n            //allow file types\n            switch (ftype) {\n                case 'image/png':\n                case 'image/gif':\n                case 'image/jpeg':\n                case 'image/pjpeg':\n                case 'text/plain':\n                case 'text/html':\n                case 'application/x-zip-compressed':\n                case 'application/pdf':\n                case 'application/msword':\n                case 'application/vnd.ms-excel':\n                case 'video/mp4':\n                    break;\n                default:\n                    ErrorReset('<b>' + ftype + '</b> Unsupported file type!');\n                    return false;\n            }\n\n            // Allowed file size is less than 25 MB (1048576)\n            if (fsize > 26214400) {\n                ErrorReset('<b>' + bytesToSize(fsize) + '</b> Too big file! <br />File is too big, it should be less than 25 MB.');\n                return false;\n            }\n\n            $('#js-submit').hide();\n            $('#js-output').show().html('');\n        } else {\n            // js-output error to older unsupported browsers that doesn't support HTML5 File API\n            ErrorReset('Please upgrade your browser, because your current browser lacks some new features we need!');\n            return false;\n        }\n    }\n\n    // alert message when an error occurs\n    function ErrorReset(message) {\n        $('#js-output').show().html('<div class=\"notifications alert\"><p>' + message + '</p></class>');\n        $('#js-title').text('Something went wrong!');\n        $('#js-submit').hide(); // hide submit button\n        $('#js-reset').show(); // show reset button after\n    }\n\n    // progress bar function\n    function OnProgress(event, position, total, percentComplete) {\n        // Progress bar\n        $('#js-progressbox').show();\n        $('#js-progressbar').width(percentComplete + '%'); //update progressbar percent complete\n        $('#js-statustxt').html(percentComplete + '%'); //update status text\n        if (percentComplete > 50) {\n            $('#js-statustxt').css('color', '#000'); //change status text to white after 50%\n        }\n    }\n\n    //function to format bites bit.ly/19yoIPO\n    function bytesToSize(bytes) {\n        var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n        if (bytes === 0) return '0 Bytes';\n        var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n        return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n    }\n\n});\n"],"sourceRoot":"/source/"}